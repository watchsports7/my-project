{% extends 'base.html' %}
{% load static %}
{% load humanize %}
{% load tz %}

{% block title %}{{ category.title }} — новости категории | InsideSports{% endblock %}
{% block description %}Читайте все свежие новости из категории {{ category.title }} на InsideSports.{% endblock %}
{% block keywords %}{{ category.title }}, спорт, новости спорта{% endblock %}


{% block content %}
<div class="container py-4 fade-in">

    <!-- Заголовок категории -->
    <h1 class="fw-bold text-center mb-4">{{ category.title }}</h1>

    <div class="row">
        <!-- Главная новость категории -->
        <div class="col-lg-8 mb-4">
            {% if main_article %}
            <div class="card shadow-lg border-0 rounded-4 overflow-hidden hover-zoom">
                {% if main_article.image %}
                    <img src="{{ main_article.image.url }}" class="card-img-top" alt="{{ main_article.title }}">
                {% elif main_article.image_url %}
                    <img src="{{ main_article.image_url }}" class="card-img-top" alt="{{ main_article.title }}">
                {% endif %}
                <div class="card-body">
                    <h2 class="fw-bold mb-3">
                        <a href="{% url 'news:article_detail' main_article.slug %}" class="text-dark text-decoration-none">
                            {{ main_article.title }}
                        </a>
                    </h2>
                    {% if main_article.anons %}
                        <p class="text-muted fs-5">{{ main_article.anons }}</p>
                    {% endif %}
                    <div class="text-muted small mt-2">
                        <i class="bi bi-calendar3"></i> {{ main_article.pub_date|localtime|date:"d E Y, H:i" }}
                        <span class="ms-3"><i class="bi bi-eye"></i> {{ main_article.views }}</span>
                    </div>
                </div>
            </div>
            {% endif %}
        </div>

        <!-- Остальные новости категории -->
        <div class="col-lg-4 fade-in-right">
            <div class="card border-0 shadow-sm rounded-4 p-3">
                <h5 class="fw-bold mb-3 border-bottom pb-2">
                    Другие новости категории
                </h5>
                <div class="list-group list-group-flush">
                    {% for article in other_articles %}
                        <a href="{% url 'news:article_detail' article.slug %}"
                           class="list-group-item list-group-item-action d-flex justify-content-between align-items-start border-0">
                            <div>
                                <span class="fw-semibold">{{ article.title }}</span><br>
                                <small class="text-muted">
                                    {{ article.pub_date|localtime|date:"d E Y, H:i" }}
                                </small>
                            </div>
                            <i class="bi bi-chevron-right text-muted"></i>
                        </a>
                    {% empty %}
                        <p class="text-muted">Пока нет других новостей.</p>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

</div>

<!-- Анимация -->
<style>
.fade-in {
  animation: fadeIn 0.8s ease-in;
}
.fade-in-right {
  animation: fadeInRight 1s ease-in;
}
.hover-zoom img {
  transition: transform 0.4s ease;
}
.hover-zoom img:hover {
  transform: scale(1.03);
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(15px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeInRight {
  from { opacity: 0; transform: translateX(25px); }
  to { opacity: 1; transform: translateX(0); }
}
</style>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
{% endblock %}
