{% extends 'base.html' %}
{% load static %}
{% load humanize %}
{% load tz %}

{% block title %}Новости по тегу {{ tag.name }} — InsideSports{% endblock %}
{% block description %}Все материалы с тегом {{ tag.name }} на InsideSports.{% endblock %}
{% block keywords %}{{ tag.name }}, InsideSports, новости спорта{% endblock %}


{% block content %}
<div class="container py-4 fade-in">
    <h1 class="fw-bold text-center mb-4">Тег: «{{ tag.name }}»</h1>

    {% if articles %}
        <div class="row g-4">
            {% for article in articles %}
            <div class="col-md-6 col-lg-4">
                <div class="card shadow-sm border-0 rounded-4 h-100 hover-zoom">
                    {% if article.image %}
                        <img src="{{ article.image.url }}" class="card-img-top" alt="{{ article.title }}">
                    {% elif article.image_url %}
                        <img src="{{ article.image_url }}" class="card-img-top" alt="{{ article.title }}">
                    {% endif %}
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title fw-bold">
                            <a href="{% url 'news:article_detail' article.slug %}" class="text-dark text-decoration-none">
                                {{ article.title }}
                            </a>
                        </h5>
                        <p class="card-text text-muted small">
                            {{ article.pub_date|localtime|date:"d E Y, H:i" }}
                        </p>
                        {% if article.anons %}
                        <p class="text-muted small">{{ article.anons|truncatechars:150 }}</p>
                        {% endif %}
                        <div class="mt-auto">
                            <span class="badge bg-primary">
                                {{ article.category.title }}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-center text-muted mt-4">По этому тегу пока нет статей.</p>
    {% endif %}
</div>

<style>
.fade-in { animation: fadeIn 0.6s ease-in; }
.hover-zoom img { transition: transform 0.3s ease; }
.hover-zoom img:hover { transform: scale(1.03); }
@keyframes fadeIn { from {opacity: 0; transform: translateY(15px);} to {opacity: 1; transform: translateY(0);} }
</style>
{% endblock %}
